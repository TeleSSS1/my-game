<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–æ—è –ò–≥—Ä–∞</title>
    <link rel="stylesheet" href="style.css">
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getDatabase, ref, get, set, update } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-database.js";

        const firebaseConfig = {
            apiKey: "AIzaSyD3w3MpCX-3r-VZKVHIJf6Ia7DqcQ",
            authDomain: "gameforfriends-7789f.firebaseapp.com",
            databaseURL: "https://gameforfriends-7789f-default-rtdb.europe-west1.firebasedatabase.app",
            projectId: "gameforfriends-7789f",
            storageBucket: "gameforfriends-7789f.appspot.com",
            messagingSenderId: "36922585094",
            appId: "1:36922585094:web:f7e41641f6aa1996d914d",
            measurementId: "G-3X19GXGZ"
        };

        const app = initializeApp(firebaseConfig);
        const database = getDatabase(app);

        // –î–µ–ª–∞–µ–º –¥–æ—Å—Ç—É–ø–Ω—ã–º–∏ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ —Ñ—É–Ω–∫—Ü–∏–∏
        window.database = database;
        window.dbRef = ref;
        window.dbGet = get;
        window.dbSet = set;
        window.dbUpdate = update;
    </script>
</head>
<body>
    <header id="mainHeader">
        <div id="avatar">üïµÔ∏è</div>
        <div id="loginText" class="blurred">–õ–æ–≥–∏–Ω: [–∑–∞–∫—Ä—ã—Ç–æ]</div>
        <div id="balanceText" class="blurred">–ë–∞–ª–∞–Ω—Å: [–∑–∞–∫—Ä—ã—Ç–æ]</div>
        <div id="pointsText" class="blurred">–ü–æ–∏–Ω—Ç—ã: [–∑–∞–∫—Ä—ã—Ç–æ]</div>
        <button id="accountButton" onclick="handleAccountClick()">–í—Ö–æ–¥/–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
        <button id="adminButton" onclick="showAdminLogin()">–ê–¥–º–∏–Ω</button>
        <button onclick="showGamesSection()">–ò–≥—Ä—ã</button>
        <button onclick="showShop()">–ú–∞–≥–∞–∑–∏–Ω</button>
    </header>

    <div id="authForm" style="display: none;">
        <h2 id="formTitle">–í—Ö–æ–¥</h2>
        <input type="text" id="username" placeholder="–õ–æ–≥–∏–Ω">
        <input type="password" id="password" placeholder="–ü–∞—Ä–æ–ª—å">
        <button id="authButton" onclick="handleAuth()">–í–æ–π—Ç–∏ –≤ –∞–∫–∫–∞—É–Ω—Ç</button>
        <button id="toggleButton" onclick="toggleForm()">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
        <button onclick="closeAuth()">–ó–∞–∫—Ä—ã—Ç—å</button>
    </div>

    <div id="profileForm" style="display: none;">
        <h2>–ü—Ä–æ—Ñ–∏–ª—å</h2>
        <p id="profileLogin">–õ–æ–≥–∏–Ω: </p>
        <p id="profileBalance">–í–∞–ª—é—Ç–∞: </p>
        <p id="profilePoints">–ü–æ–∏–Ω—Ç—ã: </p>
        <p id="profileSpins">–ü—Ä–æ–∫—Ä—É—Ç—ã: </p>
        <p id="profileVerified">–í–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω: </p>
        <button onclick="logout()">–í—ã–π—Ç–∏</button>
        <button onclick="closeProfile()">–ó–∞–∫—Ä—ã—Ç—å</button>
    </div>

    <div id="adminLoginForm" style="display: none;">
        <h2>–í—Ö–æ–¥ –¥–ª—è –∞–¥–º–∏–Ω–∞</h2>
        <input type="text" id="adminUsername" placeholder="–õ–æ–≥–∏–Ω">
        <input type="password" id="adminPassword" placeholder="–ü–∞—Ä–æ–ª—å">
        <button onclick="handleAdminLogin()">–í–æ–π—Ç–∏</button>
        <button onclick="closeAdminLogin()">–ó–∞–∫—Ä—ã—Ç—å</button>
    </div>

    <div id="adminPanel" style="display: none;">
        <h2>–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</h2>
        <select id="playerSelect" onchange="updatePlayerInfo()">
            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∏–≥—Ä–æ–∫–∞</option>
        </select>
        <p id="playerBalance">–í–∞–ª—é—Ç–∞: 0</p>
        <p id="playerPoints">–ü–æ–∏–Ω—Ç—ã: 0</p>
        <p id="playerVerified">–í–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω: <span class="unverified-icon">‚úñ</span></p>
        <input type="number" id="newBalance" placeholder="–ù–æ–≤–∞—è –≤–∞–ª—é—Ç–∞">
        <button onclick="updateBalance()">–û–±–Ω–æ–≤–∏—Ç—å –≤–∞–ª—é—Ç—É</button>
        <input type="number" id="newPoints" placeholder="–ù–æ–≤—ã–µ –ø–æ–∏–Ω—Ç—ã">
        <button onclick="updatePoints()">–û–±–Ω–æ–≤–∏—Ç—å –ø–æ–∏–Ω—Ç—ã</button>
        <button onclick="verifyPlayer(true)">–í–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å</button>
        <button onclick="verifyPlayer(false)">–û—Ç–∫–ª–æ–Ω–∏—Ç—å –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—é</button>
        <button onclick="closeAdminPanel()">–ó–∞–∫—Ä—ã—Ç—å</button>
    </div>

    <div id="gameSectionHeader" style="display: none;">
        <button onclick="backToMain()">–ù–∞–∑–∞–¥</button>
        <div id="balanceTextSecondary" class="blurred">–ë–∞–ª–∞–Ω—Å: [–∑–∞–∫—Ä—ã—Ç–æ]</div>
        <div id="pointsTextSecondary" class="blurred">–ü–æ–∏–Ω—Ç—ã: [–∑–∞–∫—Ä—ã—Ç–æ]</div>
    </div>
    <div id="gameGrid" style="display: none;">
        <button onclick="showRoulette()">–†—É–ª–µ—Ç–∫–∞</button>
    </div>

    <div id="gameForm" style="display: none;">
        <button onclick="backToGames()">–ù–∞–∑–∞–¥</button>
        <button onclick="closeGame()">–ó–∞–∫—Ä—ã—Ç—å</button>
    </div>

    <script src="main.js"></script>
</body>
</html>